<Window x:Class="InfertilityTreatment.Manager.DoctorManagerPage"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:InfertilityTreatment.Manager"
        mc:Ignorable="d"
        Title="DoctorManagerPage" Height="583" Width="1252" Loaded="Window_Loaded">
    <Window.Background>
        <ImageBrush ImageSource="D:\PRN212\Image\BookingAppointment.png" Stretch="UniformToFill"/>
    </Window.Background>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Grid Margin="0,0,0,20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <TextBlock Text="🗓️ Doctor Managerment"
                       FontSize="28"
                       FontWeight="Bold"
                       Foreground="#2E6BA0"
                       VerticalAlignment="Center"
                       Grid.Column="0"/>

            <Button Content="⬅ Back to Menu"
                    Width="140"
                    Height="35"
                    Background="#4A90E2"
                    Foreground="White"
                    FontWeight="Bold"
                    Click="BackToMenu_Click"
                    Margin="0,0,5,0"
                    Grid.Column="1"/>
        </Grid>

        <!-- Main Body -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2.3*"/>
                <ColumnDefinition Width="0.1*"/>
                <ColumnDefinition Width="2.7*"/>
            </Grid.ColumnDefinitions>

            <!-- LEFT: Doctor + Customer List -->
            <Border Background="White" CornerRadius="12" Padding="20" Margin="0,0,0,20">
                <Border.Effect>
                    <DropShadowEffect Color="Black" BlurRadius="10" ShadowDepth="4" Opacity="0.3"/>
                </Border.Effect>
                <StackPanel>
                    <TextBlock Text="Booking Information" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,15"/>

                    <TextBlock Text="Select Doctor:" FontWeight="Bold" Margin="0,0,0,5"/>
                    <ComboBox x:Name="DoctorComboBox"
                              Height="30"
                              Margin="0,0,0,15"
                              Loaded="DoctorComboBox_Loaded"
                              SelectionChanged="DoctorComboBox_SelectionChanged"/>

                    <TextBlock Text="Customers Booked with This Doctor:" FontWeight="Bold" Margin="0,0,0,5"/>
                    <ListView x:Name="DoctorCustomerListView"
                       Height="250"
                        Background="White"
                        BorderBrush="#DDD"
                        Margin="0,0,0,10">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="Name" Width="120" DisplayMemberBinding="{Binding Name}" />
                                <GridViewColumn Header="Phone" Width="120" DisplayMemberBinding="{Binding Phone}" />
                                <GridViewColumn Header="Age" Width="80" DisplayMemberBinding="{Binding Age}" />
                                <GridViewColumn Header="Service Booked" Width="180" DisplayMemberBinding="{Binding TreatmentService}" />
                            </GridView>
                        </ListView.View>
                    </ListView>
                </StackPanel>
            </Border>

            <!-- RIGHT: Doctor Info + Schedule -->
            <StackPanel Grid.Column="2" VerticalAlignment="Top">

                <!-- Doctor Info -->
                <Border Background="White" CornerRadius="12" Padding="20" Margin="0,0,0,20">
                    <Border.Effect>
                        <DropShadowEffect Color="Black" BlurRadius="10" ShadowDepth="4" Opacity="0.3"/>
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock x:Name="DoctorFullNameTextBlock" Text="Full Name: " Margin="0,5"/>
                        <TextBlock x:Name="DoctorNameTextBlock" Text="User Name: " Margin="0,5"/>
                        <TextBlock x:Name="DoctorPhoneTextBlock" Text="Phone: " Margin="0,5"/>
                        <TextBlock x:Name="DoctorAgeTextBlock" Text="Age: " Margin="0,5"/>
                        <TextBlock x:Name="DoctorCustomerCountTextBlock" Text="Customers: " Margin="0,5"/>

                        <!-- Doctor Action Buttons -->
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                            <Button Content="Add" Width="80" Margin="0,0,10,0" Click="AddDoctor_Click"/>
                            <Button Content="Update" Width="80" Margin="0,0,10,0" Click="UpdateDoctor_Click"/>
                            <Button Content="Delete" Width="80" Click="DeleteDoctor_Click"/>
                        </StackPanel>
                    </StackPanel>
                </Border>
                <!-- Doctor Schedule -->
                <Border Background="White" CornerRadius="12" Padding="20">
                    <Border.Effect>
                        <DropShadowEffect Color="Black" BlurRadius="10" ShadowDepth="4" Opacity="0.3"/>
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock Text="Doctor Schedule" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,10"/>

                        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                            <TextBlock Text="Select Month:" FontWeight="Bold" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                <ComboBox x:Name="MonthComboBox" Width="150" SelectionChanged="MonthComboBox_SelectionChanged"/>

                                <TextBlock Text="Select Year:" FontWeight="Bold" VerticalAlignment="Center" Margin="20,0,10,0"/>
                                <ComboBox x:Name="YearComboBox" Width="150" SelectionChanged="YearComboBox_SelectionChanged"/>
                        </StackPanel>

                        <TabControl>
                            <TabItem Header="Week 1">
                                <ListView x:Name="Week1ListView"
                                          SelectionChanged="ScheduleDay_Selected">
                                    <ListView.View>
                                        <GridView>
                                            <GridViewColumn Header="Day" Width="100" DisplayMemberBinding="{Binding DayName}" />
                                            <GridViewColumn Header="Start Time" Width="100" DisplayMemberBinding="{Binding StartTime}" />
                                            <GridViewColumn Header="End Time" Width="100" DisplayMemberBinding="{Binding EndTime}" />
                                            <GridViewColumn Header="Notes" Width="200" DisplayMemberBinding="{Binding Notes}" />
                                        </GridView>
                                    </ListView.View>
                                </ListView>
                            </TabItem>
                            <TabItem Header="Week 2">
                                <ListView x:Name="Week2ListView"
                                          SelectionChanged="ScheduleDay_Selected">
                                    <ListView.View>
                                        <GridView>
                                            <GridViewColumn Header="Day" Width="100" DisplayMemberBinding="{Binding DayName}" />
                                            <GridViewColumn Header="Start Time" Width="100" DisplayMemberBinding="{Binding StartTime}" />
                                            <GridViewColumn Header="End Time" Width="100" DisplayMemberBinding="{Binding EndTime}" />
                                            <GridViewColumn Header="Notes" Width="200" DisplayMemberBinding="{Binding Notes}" />
                                        </GridView>
                                    </ListView.View>
                                </ListView>
                            </TabItem>
                            <TabItem Header="Week 3">
                                <ListView x:Name="Week3ListView"
                                          SelectionChanged="ScheduleDay_Selected">
                                    <ListView.View>
                                        <GridView>
                                            <GridViewColumn Header="Day" Width="100" DisplayMemberBinding="{Binding DayName}" />
                                            <GridViewColumn Header="Start Time" Width="100" DisplayMemberBinding="{Binding StartTime}" />
                                            <GridViewColumn Header="End Time" Width="100" DisplayMemberBinding="{Binding EndTime}" />
                                            <GridViewColumn Header="Notes" Width="200" DisplayMemberBinding="{Binding Notes}" />
                                        </GridView>
                                    </ListView.View>
                                </ListView>
                            </TabItem>
                            <TabItem Header="Week 4">
                                <ListView x:Name="Week4ListView"
                                          SelectionChanged="ScheduleDay_Selected">
                                    <ListView.View>
                                        <GridView>
                                            <GridViewColumn Header="Day" Width="100" DisplayMemberBinding="{Binding DayName}" />
                                            <GridViewColumn Header="Start Time" Width="100" DisplayMemberBinding="{Binding StartTime}" />
                                            <GridViewColumn Header="End Time" Width="100" DisplayMemberBinding="{Binding EndTime}" />
                                            <GridViewColumn Header="Notes" Width="200" DisplayMemberBinding="{Binding Notes}" />
                                        </GridView>
                                    </ListView.View>
                                </ListView>
                            </TabItem>
                        </TabControl>

                        <!-- Schedule Action Buttons -->
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                            <Button Content="Add Schedule" Width="120" Margin="0,0,10,0" Click="AddSchedule_Click"/>
                            <Button Content="Update Schedule" Width="120" Margin="0,0,10,0" Click="UpdateSchedule_Click"/>
                            <Button Content="Delete Schedule" Width="120" Click="DeleteSchedule_Click"/>
                        </StackPanel>
                    </StackPanel>
                </Border>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
